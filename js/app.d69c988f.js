(function(t){function e(e){for(var s,l,o=e[0],r=e[1],c=e[2],d=0,m=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&m.push(i[l][0]),i[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var r=a[o];0!==i[r]&&(s=!1)}s&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},i={app:0},n=[];function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/tiku-vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"05b2":function(t,e,a){"use strict";var s=a("5c9b"),i=a.n(s);i.a},"05f6":function(t,e,a){"use strict";var s=a("b585"),i=a.n(s);i.a},"0c30":function(t,e,a){},"0d45":function(t,e,a){"use strict";var s=a("5f2e"),i=a.n(s);i.a},1204:function(t,e,a){"use strict";var s=a("c3fc"),i=a.n(s);i.a},1489:function(t,e,a){},"15b6":function(t,e,a){},2383:function(t,e,a){},"276e":function(t,e,a){"use strict";var s=a("1489"),i=a.n(s);i.a},"2ebe":function(t,e,a){},"334b":function(t,e,a){},"38a6":function(t,e,a){"use strict";var s=a("46f9"),i=a.n(s);i.a},"46f9":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("e623"),a("e379"),a("5dc8"),a("37e1");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Nav",{attrs:{is_admin:t.is_admin}}),a("div",{staticClass:"loginWrapper"},[t.logined?a("div",{staticClass:"logined"},[a("router-link",{attrs:{to:"/user/"+t.id}},[a("el-avatar",{attrs:{src:"/api"+t.avatar,alt:""}})],1),a("el-divider",{attrs:{direction:"vertical"}}),a("a",{on:{click:t.signOut}},[t._v("登出")])],1):a("div",{staticClass:"login"},[a("a",{on:{click:function(e){t.signVisible=!0,t.active="注册"}}},[t._v("注册")]),a("el-divider",{attrs:{direction:"vertical"}}),a("a",{on:{click:function(e){t.signVisible=!0,t.active="登录"}}},[t._v("登录")])],1)]),a("router-view"),a("el-dialog",{attrs:{visible:t.signVisible,width:"400px"},on:{"update:visible":function(e){t.signVisible=e}}},[a("el-tabs",{attrs:{stretch:!0},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("el-tab-pane",{attrs:{label:"注册",name:"注册"}},[a("el-form",{attrs:{model:t.register}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名",clearable:""},model:{value:t.register.loginname,callback:function(e){t.$set(t.register,"loginname",e)},expression:"register.loginname"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"确认密码","show-password":""},model:{value:t.register.confirm,callback:function(e){t.$set(t.register,"confirm",e)},expression:"register.confirm"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"登录",name:"登录"}},[a("el-form",{attrs:{model:t.register}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名",clearable:""},model:{value:t.login.loginname,callback:function(e){t.$set(t.login,"loginname",e)},expression:"login.loginname"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"密码",type:"password","show-password":""},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1)],1)],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSign()}}},[t._v(t._s(t.active))])],1)],1)},n=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav"},[a("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"}},[a("el-menu-item",{attrs:{index:"1"}},[a("router-link",{attrs:{to:"/"}},[t._v("首页")])],1),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[t._v("题库")]),a("router-link",{attrs:{to:"/share"}},[a("el-menu-item",{attrs:{index:"2-1"}},[t._v("分享试题")])],1),a("router-link",{attrs:{to:"/problem"}},[a("el-menu-item",{attrs:{index:"2-2"}},[t._v("公用题库")])],1),a("router-link",{attrs:{to:"/myProblem"}},[a("el-menu-item",{attrs:{index:"2-3"}},[t._v("个人题库")])],1)],2),a("el-menu-item",{attrs:{index:"3"}},[a("router-link",{attrs:{to:"/circle"}},[t._v("圈子")])],1),a("el-menu-item",{attrs:{index:"4"}},[a("router-link",{attrs:{to:"/shop"}},[t._v("商城")])],1),t.is_admin?a("el-menu-item",{attrs:{index:"5"}},[a("router-link",{attrs:{to:"/houtai"}},[t._v("后台管理")])],1):t._e()],1)],1)},o=[],r=(a("a9e3"),{props:{is_admin:Number}}),c=r,u=(a("965a"),a("2877")),d=Object(u["a"])(c,l,o,!1,null,"17b8fb5e",null),m=d.exports,p={data:function(){return{active:"注册",signVisible:!1,register:{loginname:"",password:"",confirm:""},login:{loginname:"",password:""},logined:!1,avatar:"",is_admin:0,id:0}},methods:{handleSign:function(){var t=this;"注册"==this.active?this.axios.post("/api/register",this.register).then((function(e){t.$message(e.data.message),e.data.success&&(t.login.loginname=t.register.loginname,t.login.password=t.register.password,t.active="登录"),t.register={loginname:"",password:"",confirm:""}})):this.axios.post("/api/login",this.login).then((function(e){if(t.$message(e.data.message),t.login.password="",e.data.success){t.signVisible=!1;var a=e.data.rows;localStorage.setItem("logininfo",JSON.stringify(a)),t.logined=!0,t.avatar=a.avatar,t.is_admin=a.is_admin,t.id=a.id}}))},signOut:function(){localStorage.removeItem("logininfo"),this.logined=!1}},components:{Nav:m},created:function(){var t=this;if(localStorage.getItem("logininfo")){this.logined=!0;var e=JSON.parse(localStorage.getItem("logininfo"));this.avatar=e.avatar,this.is_admin=e.is_admin,this.id=e.id}else setTimeout((function(){t.$router.push("/")}),2e3)}},f=p,h=(a("c7ec"),Object(u["a"])(f,i,n,!1,null,"5894e6ba",null)),v=h.exports,b=a("8c4f"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"main"},t._l(t.questionData,(function(e,s){return a("div",{key:s,staticClass:"rowWrapper"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:"/api"+e.avatar}})]),a("div",{staticClass:"info"},[a("div",{staticClass:"time"},[t._v(t._s(t._f("formatTime")(e.create_time)))]),a("div",{staticClass:"meta"},[a("a",{staticClass:"nickname"},[t._v(t._s(e.nickname))]),t._v("在"),a("span",{staticClass:"subject"},[t._v(t._s(e.subject_name))]),t._v(t._s(e.is_admin?"发布":"分享")+"了一道"+t._s(t.$store.state.types[e.type]))]),a("div",{staticClass:"content"},[a("a",{domProps:{innerHTML:t._s(e.question_name)},on:{click:function(a){return t.$router.push("/question/"+e.id)}}})])])])})),0)])},g=[],y=(a("fb6a"),{data:function(){return{questionData:null}},created:function(){var t=this;this.axios.get("/api/question/getByTime").then((function(e){t.questionData=e.data.rows.slice(0,10)}))}}),k=y,x=(a("d656"),Object(u["a"])(k,_,g,!1,null,"1eba6926",null)),w=x.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share"},[a("el-main",[a("el-form",{ref:"question",attrs:{model:t.question,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"科目",prop:"subject_id"}},[a("el-select",{attrs:{placeholder:"请选择科目"},model:{value:t.question.subject_id,callback:function(e){t.$set(t.question,"subject_id",e)},expression:"question.subject_id"}},t._l(t.subjectData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.subject_name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-radio-group",{attrs:{placeholder:"请选择科目"},model:{value:t.question.type,callback:function(e){t.$set(t.question,"type",e)},expression:"question.type"}},t._l(t.$store.state.types,(function(e,s){return a("el-radio",{key:s,attrs:{label:s}},[t._v(t._s(e))])})),1)],1),a("el-form-item",{staticClass:"quillWrapper",attrs:{label:"题目",prop:"name"}},[a("quill-editor",{staticClass:"quill",model:{value:t.question.name,callback:function(e){t.$set(t.question,"name",e)},expression:"question.name"}})],1),a("el-form-item",{attrs:{label:"选项A",prop:"ans_a"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.ans_a,callback:function(e){t.$set(t.question,"ans_a",e)},expression:"question.ans_a"}})],1),a("el-form-item",{attrs:{label:"选项B",prop:"ans_b"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.ans_b,callback:function(e){t.$set(t.question,"ans_b",e)},expression:"question.ans_b"}})],1),a("el-form-item",{attrs:{label:"选项C",prop:"ans_c"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.ans_c,callback:function(e){t.$set(t.question,"ans_c",e)},expression:"question.ans_c"}})],1),a("el-form-item",{attrs:{label:"选项D",prop:"ans_d"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.ans_d,callback:function(e){t.$set(t.question,"ans_d",e)},expression:"question.ans_d"}})],1),a("el-form-item",{attrs:{label:"答案",prop:"answer"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.answer,callback:function(e){t.$set(t.question,"answer",e)},expression:"question.answer"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.addQuestion}},[t._v("分享试题")]),a("el-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)],1)],1)},q=[],$={data:function(){return{subjectData:null,question:{type:1,name:"",subject_id:"",ans_a:"",ans_b:"",ans_c:"",ans_d:"",answer:""}}},methods:{addQuestion:function(){var t=this,e=JSON.parse(localStorage.getItem("logininfo")).id,a=(new Date).getTime();this.axios.post("/api/question/add",Object.assign({},this.question,{id:e,create_time:a})).then((function(e){e.data.success?t.$message("分享试题成功"):t.$message(e.data.message)}))},reset:function(){this.$refs.question.resetFields()}},created:function(){var t=this;this.axios.get("/api/subject/get").then((function(e){t.subjectData=e.data.rows}))}},j=$,D=(a("d117"),Object(u["a"])(j,C,q,!1,null,"5f56d0c2",null)),S=D.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"problem"},[a("el-container",[a("el-header",[t._v(" 科目分类 "),a("el-input",{attrs:{placeholder:"关键词搜索",size:"medium"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.testDialog=!0}}},[t._v("组卷测试")])],1),a("el-main",[a("div",{staticClass:"subjectWrapper"},[a("ul",[a("li",{class:t.active?"":"active",on:{click:function(e){return t.changeSubject(0)}}},[t._v("全部")]),t._l(t.subjectData,(function(e){return a("li",{key:e.id,class:t.active==e.id?"active":"",on:{click:function(a){return t.changeSubject(e.id)}}},[t._v(t._s(e.subject_name))])}))],2)]),t._l(t.filterQues,(function(e,s){return a("div",{key:e.id,staticClass:"rowWrapper"},[a("div",{staticClass:"name"},[t._v(t._s(s+1)+"、"),a("a",{domProps:{innerHTML:t._s(e.question_name)},on:{click:function(a){return t.$router.push("/question/"+e.id)}}})]),a("div",{staticClass:"tags"},[a("el-tag",{attrs:{type:"info",size:"mini"}},[t._v(t._s(e.nickname))]),a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(e.subject_name))]),a("el-tag",{attrs:{type:"warning",size:"mini"}},[t._v(t._s(t.$store.state.types[e.type]))]),a("el-popover",{attrs:{placement:"left",width:"190",trigger:"click"}},[a("el-select",{attrs:{placeholder:"请选择标签",size:"small"},model:{value:t.selectTag,callback:function(e){t.selectTag=e},expression:"selectTag"}},t._l(t.tagData,(function(t,e){return a("el-option",{key:e,attrs:{label:t.tag_name,value:t.tag_name}})})),1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.addQues(e.id)}}},[t._v("确定")]),a("el-tag",{staticClass:"add",attrs:{slot:"reference",type:"info",size:"small",effect:"dark"},slot:"reference"},[t._v("加入题库")])],1)],1)])}))],2)],1),a("el-dialog",{attrs:{visible:t.testDialog,title:"测试设置",width:"600px"},on:{"update:visible":function(e){t.testDialog=e}}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"选择科目"}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),a("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedSubject,callback:function(e){t.checkedSubject=e},expression:"checkedSubject"}},t._l(t.subjectData,(function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.subject_name))])})),1)],1),a("el-form-item",{attrs:{label:"时长/分钟"}},[a("el-input-number",{attrs:{min:1,max:10},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),a("el-form-item",{attrs:{label:"题目数量"}},[a("el-input-number",{attrs:{min:3,max:10},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.testDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.toTest()}}},[t._v("确 定")])],1)],1)],1)},T=[],O=(a("c975"),a("d81d"),{data:function(){return{subjectData:null,questionData:null,searchQues:null,searchValue:"",filterQues:null,active:0,loginname:"",tagData:null,selectTag:"默认",testDialog:!1,checkAll:!1,checkedSubject:[],isIndeterminate:!1,count:5,time:3}},methods:{changeSubject:function(t){this.active=t,this.filterQues=t?this.searchQues.filter((function(e){return e.subject_id==t})):this.searchQues},addQues:function(t){var e=this;this.axios.post("/api/myproblem/addQuestion",{loginname:this.loginname,tag_name:this.selectTag,id:t}).then((function(t){e.$message(t.data.message)}))},handleCheckAllChange:function(t){var e=this.subjectData.map((function(t){return t.id}));this.checkedSubject=t?e:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.subjectData.length,this.isIndeterminate=e>0&&e<this.subjectData.length},toTest:function(){this.checkedSubject.length?this.$router.push({name:"test",params:{data:{idList:this.checkedSubject,count:this.count,time:this.time}}}):this.$message("至少选择一个科目")}},created:function(){var t=this;this.axios.get("/api/subject/get").then((function(e){t.subjectData=e.data.rows})),this.axios.get("/api/question/get").then((function(e){t.questionData=e.data.rows.filter((function(t){return 1==t.is_admin})),t.searchQues=t.questionData,t.changeSubject(t.active)})),this.loginname=JSON.parse(localStorage.getItem("logininfo")).loginname,this.axios.post("/api/myproblem/getTags",{loginname:this.loginname}).then((function(e){t.tagData=e.data.rows}))},watch:{searchValue:function(){var t=this;this.searchValue?this.searchQues=this.questionData.filter((function(e){return-1!==e.question_name.indexOf(t.searchValue)})):this.searchQues=this.questionData,this.changeSubject(this.active)}}}),Q=O,V=(a("05f6"),Object(u["a"])(Q,z,T,!1,null,"6ada811e",null)),E=V.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myProblem"},[a("el-container",[a("el-header",[t._v("个人题库")]),a("el-main",[a("div",{staticClass:"tagWrapper"},[t._l(t.tagData,(function(e,s){return a("el-tag",{key:s,class:t.active==e.tag_name?"active":"",attrs:{closable:"默认"!==e.tag_name,effect:"plain"},on:{click:function(a){return t.changeTag(e.tag_name)},close:function(a){return t.handleClose(e.tag_name)}}},[t._v(" "+t._s(e.tag_name)+" ")])})),t.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ New Tag")])],2),a("div",{staticClass:"questionWrapper"},t._l(t.filterQues,(function(e,s){return a("div",{key:e.id,staticClass:"rowWrapper"},[a("div",{staticClass:"name"},[t._v(t._s(s+1)+"、"),a("span",{domProps:{innerHTML:t._s(e.question_name)}})]),a("div",{staticClass:"tags"},[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(e.subject_name))]),a("el-tag",{attrs:{type:"warning",size:"mini"}},[t._v(t._s(t.$store.state.types[e.type]))]),a("el-tag",{staticClass:"del",attrs:{type:"danger",size:"small",effect:"dark"},on:{click:function(a){return t.delQues(e.question_id)}}},[t._v("移出")])],1)])})),0)])],1)],1)},I=[],R={data:function(){return{loginname:"",tagData:null,inputVisible:!1,inputValue:"",active:"默认",questionData:null,filterQues:null}},methods:{handleClose:function(t){var e=this;this.axios.post("/api/myproblem/delTag",{loginname:this.loginname,tag_name:t}).then((function(t){t.data.success&&(e.getTags(),e.$message(t.data.message))}))},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this,e=this.inputValue;e&&this.axios.post("/api/myproblem/addTag",{loginname:this.loginname,tag_name:e}).then((function(e){e.data.success&&(t.$message(e.data.message),t.getTags())})),this.inputVisible=!1,this.inputValue=""},getTags:function(){var t=this;this.axios.post("/api/myproblem/getTags",{loginname:this.loginname}).then((function(e){t.tagData=e.data.rows}))},getQues:function(){var t=this;this.axios.post("/api/myproblem/getQuestions",{loginname:this.loginname}).then((function(e){t.questionData=e.data.rows,window.console.log(t.questionData),t.filterQues=t.questionData.filter((function(e){return e.tag_name===t.active}))}))},changeTag:function(t){this.active=t,this.filterQues=this.questionData.filter((function(e){return e.tag_name===t}))},delQues:function(t){var e=this;this.axios.post("/api/myproblem/delQuestion",{loginname:this.loginname,tag_name:this.active,question_id:t}).then((function(t){e.$message(t.data.message),e.getQues()}))}},created:function(){this.loginname=JSON.parse(localStorage.getItem("logininfo")).loginname,this.getTags(),this.getQues()}},P=R,W=(a("edd4"),Object(u["a"])(P,A,I,!1,null,"feb8dab2",null)),N=W.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"circle"},[a("el-container",[a("el-main",[a("div",{staticClass:"topicWrapper"},[a("ul",[a("li",{class:"全部话题"==t.active?"active":"",on:{click:function(e){return t.changeTopic(-1)}}},[t._v("全部话题")]),t._l(t.topics,(function(e,s){return a("li",{key:s,class:t.active==e?"active":"",on:{click:function(e){return t.changeTopic(s)}}},[t._v(t._s(e))])}))],2)]),a("div",{staticClass:"articleWrapper"},t._l(t.filterArticle,(function(e){return a("div",{key:e.id,staticClass:"rowWrapper"},[a("div",{staticClass:"title"},[a("img",{attrs:{src:"/api"+e.avatar}}),a("a",{on:{click:function(a){return t.$router.push("/article/"+e.id)}}},[t._v(t._s(e.title))])]),a("div",{staticClass:"meta"},[a("a",{staticClass:"nickname"},[t._v(t._s(e.nickname))]),t._v("在"),a("a",{staticClass:"topic"},[t._v(t._s(t.topics[e.topic]))]),t._v("发布了文章")]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}}),a("div",{staticClass:"extra"},[a("span",[a("i",{staticClass:"el-icon-view"}),t._v("999")]),a("a",[a("i",{staticClass:"el-icon-chat-dot-square"}),t._v("查看评论")]),a("a",[a("i",{staticClass:"el-icon-star-off"}),t._v("收藏")]),a("a",[a("i",{staticClass:"el-icon-share"}),t._v("分享")]),a("a",[a("i",{staticClass:"el-icon-more"})])])])})),0)]),a("el-aside",[a("div",{staticClass:"topWrapper"},[a("div",{staticClass:"top"},[a("a",[a("i",{staticClass:"el-icon-chat-round"}),a("div",[t._v("参与的文章")])]),a("a",[a("i",{staticClass:"el-icon-document-copy"}),a("div",[t._v("我的文章")])]),a("a",[a("i",{staticClass:"el-icon-star-off"}),a("div",[t._v("我的收藏")])])]),a("div",{staticClass:"middle"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(e){t.drawer=!0}}},[t._v("发布文章")]),a("el-button",{attrs:{size:"small",icon:"el-icon-edit"}},[t._v("我的草稿")])],1),a("div",{staticClass:"bottom"},[a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-thumb"}),t._v("获得点赞数")]),t._v("0")]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-star-on"}),t._v("获得收藏数")]),t._v("0")]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-user-solid"}),t._v("被关注人数")]),t._v("1")]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-view"}),t._v("被浏览次数")]),t._v("11")])])])])],1),a("el-drawer",{attrs:{visible:t.drawer,direction:"btt","show-close":!1,size:"50%"},on:{"update:visible":function(e){t.drawer=e}}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("el-input",{staticClass:"title",attrs:{placeholder:"此处输入标题..."},model:{value:t.article.title,callback:function(e){t.$set(t.article,"title",e)},expression:"article.title"}}),a("el-select",{attrs:{placeholder:"请选择话题"},model:{value:t.article.topic,callback:function(e){t.$set(t.article,"topic",e)},expression:"article.topic"}},t._l(t.topics,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})),1),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.drawer=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addArticle}},[t._v("发布文章")])],1),a("quill-editor",{staticClass:"quill",model:{value:t.article.content,callback:function(e){t.$set(t.article,"content",e)},expression:"article.content"}})],1)],1)},L=[],B={data:function(){return{topics:["题目交流","综合讨论","问题反馈","设计建议"],active:"全部话题",articleData:null,filterArticle:null,drawer:!1,article:{title:"",topic:"",content:""}}},methods:{changeTopic:function(t){-1==t?(this.active="全部话题",this.filterArticle=this.articleData):(this.active=this.topics[t],this.filterArticle=this.articleData.filter((function(e){return e.topic==t})))},addArticle:function(){var t=this,e=JSON.parse(localStorage.getItem("logininfo")).id,a=(new Date).getTime();this.axios.post("/api/article/add",{user_id:e,topic:this.article.topic,title:this.article.title,content:this.article.content,create_time:a}).then((function(e){t.$message(e.data.message),e.data.success&&(t.drawer=!1)}))}},created:function(){var t=this;this.axios.get("/api/article/get").then((function(e){t.articleData=e.data.rows,t.filterArticle=t.articleData}))}},J=B,H=(a("276e"),Object(u["a"])(J,M,L,!1,null,"3bf678e1",null)),G=H.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shop"},[a("el-container",[a("el-header",[t._v("免费兑换礼品 "),a("span",[t._v("我的积分"),a("span",{staticClass:"point"},[t._v("20")])])]),a("el-main",t._l(t.shopData,(function(e){return a("el-card",{key:e.id,attrs:{"body-style":{padding:"10px"}}},[a("img",{staticClass:"image",attrs:{src:"/api"+e.img}}),a("div",{staticClass:"name"},[t._v(t._s(e.name))]),a("div",{staticClass:"bottom"},[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(e.price))]),a("el-tag",{staticClass:"duihuan",attrs:{size:"mini"}},[t._v("兑换")])],1)])})),1)],1)],1)},F=[],Y={data:function(){return{shopData:null}},created:function(){var t=this;this.axios.get("/api/shop/get").then((function(e){t.shopData=e.data.rows}))}},K=Y,X=(a("05b2"),Object(u["a"])(K,U,F,!1,null,"26f876f2",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user"},[a("el-container",[a("el-header",[t._v("个人信息")]),t.userinfo?a("el-main",[a("el-form",{attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("div",[t._v(t._s(t.userinfo.loginname))])]),a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{staticClass:"nickname",model:{value:t.userinfo.nickname,callback:function(e){t.$set(t.userinfo,"nickname",e)},expression:"userinfo.nickname"}})],1),a("el-form-item",{attrs:{label:"头像"}},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:"/api"+t.userinfo.avatar}}),a("el-upload",{attrs:{action:"/api/users/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[a("el-button",{attrs:{size:"medium"}},[t._v("上传新头像")])],1)],1)]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.saveInfo}},[t._v("保存资料")]),a("el-button",[t._v("还原")])],1)],1)],1):t._e()],1)],1)},et=[],at={data:function(){return{userinfo:null}},methods:{handleAvatarSuccess:function(t){this.$message(t.message),this.userinfo.avatar="/uploads/"+t.filename},saveInfo:function(){var t=this;window.console.log(this.userinfo),this.axios.post("/api/users/saveInfo",this.userinfo).then((function(e){if(e.data.success){t.$message(e.data.message);var a=JSON.parse(localStorage.getItem("logininfo"));a.avatar=t.userinfo.avatar,localStorage.setItem("logininfo",JSON.stringify(a)),t.$router.go(0)}}))}},created:function(){var t=this,e=this.$route.params.id;this.axios.post("/api/users/getUserById",{id:e}).then((function(e){t.userinfo=e.data.rows}))}},st=at,it=(a("7008"),Object(u["a"])(st,tt,et,!1,null,"7d19f962",null)),nt=it.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"question"},[a("el-container",[a("el-header",[t._v("题目详情")]),t.question?a("el-main",[a("div",{staticClass:"infoWrapper"},[a("div",{staticClass:"header"},[t._v(t._s(t.$store.state.types[t.question.type])),a("div",[t._v("贡献者:"),a("a",[t._v(t._s(t.question.nickname))])])]),a("div",{staticClass:"name",domProps:{innerHTML:t._s(t.question.question_name)}}),a("div",{staticClass:"select"},[t._v("A. "+t._s(t.question.a))]),a("div",{staticClass:"select"},[t._v("B. "+t._s(t.question.b))]),a("div",{staticClass:"select"},[t._v("C. "+t._s(t.question.c))]),a("div",{staticClass:"select"},[t._v("D. "+t._s(t.question.d))]),a("div",{staticClass:"answer"},[a("div",[a("span",[t._v("正确答案")]),t._v(t._s(t.question.answer))]),a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("加入题库")])],1)]),a("div",{staticClass:"commentWrapper"},[a("Comment",{attrs:{question_id:t.question.id}})],1)]):t._e()],1)],1)},ot=[],rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment"},[a("el-main",[a("div",{staticClass:"quillWrapper"},[a("quill-editor",{staticClass:"quill",model:{value:t.commentValue,callback:function(e){t.commentValue=e},expression:"commentValue"}})],1),a("div",{staticClass:"header"},[a("span",[t.commentData?a("span",[t._v(t._s(t.commentData.length))]):a("span",[t._v("0")]),t._v("条评论")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addComment}},[t._v("发布评论")])],1),a("div",{staticClass:"main"},t._l(t.commentData,(function(e,s){return a("div",{key:e.id,staticClass:"rowWrapper"},[a("div",{staticClass:"user"},[a("img",{attrs:{src:"/api"+e.avatar}}),a("a",[t._v(t._s(e.nickname))])]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}}),a("div",{staticClass:"bottom"},[a("span",{staticClass:"time"},[t._v(t._s(t._f("formatTime")(e.create_time)))]),a("div",{staticClass:"extra"},[a("a",[a("i",{staticClass:"el-icon-thumb"}),t._v("赞")]),a("a",{on:{click:function(e){return t.showReply(s)}}},[a("i",{staticClass:"el-icon-chat-dot-square"}),t._v("回复")]),a("a",[a("i",{staticClass:"el-icon-warning-outline"}),t._v("举报")])])]),e.replyShow?a("Reply",{attrs:{comment_id:e.id,toUser_id:e.user_id}}):t._e()],1)})),0)])],1)},ct=[],ut=(a("4160"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reply"},[a("el-main",[a("div",{staticClass:"quillWrapper"},[a("quill-editor",{staticClass:"quill",model:{value:t.replyValue,callback:function(e){t.replyValue=e},expression:"replyValue"}})],1),t.replyData?a("div",{staticClass:"header"},[t._v(t._s(t.replyData.length)+"条回复"),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addReply(t.toUser_id,t.replyValue)}}},[t._v("发布回复")])],1):t._e(),t._l(t.replyData,(function(e,s){return a("div",{key:e.id,staticClass:"rowWrapper"},[a("div",{staticClass:"user"},[a("img",{attrs:{src:"/api"+e.avatar}}),a("a",[t._v(t._s(e.nickname))]),a("a",{staticClass:"toUser"},[t._v("@"+t._s(e.toUser_nickname))])]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}}),a("div",{staticClass:"bottom"},[a("span",{staticClass:"time"},[t._v(t._s(t._f("formatTime")(e.create_time)))]),a("div",{staticClass:"extra"},[a("a",[a("i",{staticClass:"el-icon-thumb"}),t._v("赞")]),a("a",{on:{click:function(e){return t.handleShow(s)}}},[a("i",{staticClass:"el-icon-chat-dot-square"}),t._v("回复")]),a("a",[a("i",{staticClass:"el-icon-warning-outline"}),t._v("举报")])])]),t.active==s?a("div",{staticClass:"quillWrapper2"},[a("quill-editor",{staticClass:"quill2",model:{value:t.replyValue2,callback:function(e){t.replyValue2=e},expression:"replyValue2"}}),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info",size:"mini"}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.addReply(e.user_id,t.replyValue2)}}},[t._v("发送")])],1)],1):t._e()])}))],2)],1)}),dt=[],mt={props:{comment_id:Number,toUser_id:Number},data:function(){return{replyValue:"",replyData:null,replyValue2:"",active:-1}},methods:{addReply:function(t,e){var a=this,s=JSON.parse(localStorage.getItem("logininfo")).id,i=(new Date).getTime();this.axios.post("/api/reply/addReply",{user_id:s,comment_id:this.comment_id,toUser_id:t,content:e,create_time:i}).then((function(t){a.$message(t.data.message),a.replyValue="",a.replyValue2="",a.active=-1,a.getReply()}))},getReply:function(){var t=this;0!==this.comment_id&&this.axios.post("/api/reply/getByCommentId",{id:this.comment_id}).then((function(e){t.replyData=e.data.rows}))},handleShow:function(t){this.active==t?this.active=-1:this.active=t}},created:function(){this.getReply()}},pt=mt,ft=(a("38a6"),Object(u["a"])(pt,ut,dt,!1,null,"e53b618c",null)),ht=ft.exports,vt={props:{question_id:{type:Number,default:0},article_id:{type:Number,default:0}},data:function(){return{commentValue:"",commentData:null,replysCount:0}},components:{Reply:ht},methods:{addComment:function(){var t=this,e=JSON.parse(localStorage.getItem("logininfo")).id,a=(new Date).getTime();0!==this.question_id?this.axios.post("/api/comment/addComment",{user_id:e,question_id:this.question_id,content:this.commentValue,create_time:a}).then((function(e){t.$message(e.data.message),t.commentValue="",t.getComment()})):this.axios.post("/api/comment/addComment",{user_id:e,article_id:this.article_id,content:this.commentValue,create_time:a}).then((function(e){t.$message(e.data.message),t.commentValue="",t.getComment()}))},getComment:function(){var t=this;0!==this.question_id?(this.axios.post("/api/comment/getByQuestionId",{id:this.question_id}).then((function(e){t.commentData=e.data.rows,t.commentData.forEach((function(e){t.$set(e,"replyShow",!1)}))})),window.console.log(111)):(this.axios.post("/api/comment/getByArticleId",{id:this.article_id}).then((function(e){t.commentData=e.data.rows,t.commentData.forEach((function(e){t.$set(e,"replyShow",!1)}))})),window.console.log(222))},showReply:function(t){var e=this.commentData[t].replyShow;this.$set(this.commentData[t],"replyShow",!e)}},created:function(){this.getComment()}},bt=vt,_t=(a("0d45"),Object(u["a"])(bt,rt,ct,!1,null,"51dbed7e",null)),gt=_t.exports,yt={data:function(){return{question:null}},components:{Comment:gt},created:function(){var t=this,e=this.$route.params.id;this.axios.post("/api/question/getById",{id:e}).then((function(e){t.question=e.data.rows}))}},kt=yt,xt=(a("7647"),Object(u["a"])(kt,lt,ot,!1,null,"2f90a266",null)),wt=xt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article"},[t.article?a("el-container",[a("el-header",[t._v("返回 /"+t._s(t.topics[t.article.topic])+"/"+t._s(t.article.title))]),a("el-main",[a("div",{staticClass:"header"},[a("img",{attrs:{src:"/api"+t.article.avatar,alt:""}}),t._v(" "+t._s(t.article.title)+" ")]),a("div",{staticClass:"meta"},[a("a",[t._v(t._s(t.article.nickname))]),t._v("发布于 "+t._s(t._f("formatTime")(t.article.create_time)))]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.article.content)}})]),a("div",{staticClass:"footer"},[a("Comment",{attrs:{article_id:t.article.id}})],1)],1):t._e()],1)},qt=[],$t={data:function(){return{article:null,topics:["题目交流","综合讨论","问题反馈","设计建议"]}},components:{Comment:gt},created:function(){var t=this,e=this.$route.params.id;this.axios.post("/api/article/getById",{id:e}).then((function(e){t.article=e.data.rows}))}},jt=$t,Dt=(a("9c64"),Object(u["a"])(jt,Ct,qt,!1,null,"2fba7149",null)),St=Dt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"test"},[a("el-container",[a("el-header",[t._v("组卷测试（公用题库）"),a("span",{staticClass:"time"},[t._v(t._s(t.getTime))])]),a("el-main",t._l(t.selectQues,(function(e,s){return a("div",{key:s,staticClass:"rowWrapper"},[a("div",{staticClass:"header"},[t._v(t._s(s+1)+"、"+t._s(t.$store.state.types[e.type])),a("span",[t._v("("+t._s(e.subject_name)+")")])]),a("div",{staticClass:"main"},[a("div",{staticClass:"title",domProps:{innerHTML:t._s(e.question_name)}}),2==e.type?a("el-checkbox-group",{attrs:{disabled:t.finish},model:{value:e.select,callback:function(a){t.$set(e,"select",a)},expression:"q.select"}},[a("el-checkbox",{attrs:{label:"a",border:""}},[t._v(t._s(e.a))]),a("el-checkbox",{attrs:{label:"b",border:""}},[t._v(t._s(e.b))]),a("el-checkbox",{attrs:{label:"c",border:""}},[t._v(t._s(e.c))]),a("el-checkbox",{attrs:{label:"d",border:""}},[t._v(t._s(e.d))])],1):t._e(),1==e.type?a("el-radio-group",{attrs:{disabled:t.finish},model:{value:e.select,callback:function(a){t.$set(e,"select",a)},expression:"q.select"}},[a("el-radio",{attrs:{label:"a",border:""}},[t._v(t._s(e.a))]),a("el-radio",{attrs:{label:"b",border:""}},[t._v(t._s(e.b))]),a("el-radio",{attrs:{label:"c",border:""}},[t._v(t._s(e.c))]),a("el-radio",{attrs:{label:"d",border:""}},[t._v(t._s(e.d))])],1):t._e(),t.finish?a("div",{staticClass:"bottom"},[a("div",{staticClass:"answer"},[t._v("正确答案: "+t._s(e.answer))]),1==e.type?a("div",{staticClass:"select"},[t._v("你的答案: "+t._s(e.select?e.select:"空")+" "),e.answer===e.select?a("span",{staticClass:"correct"},[t._v("(正确)")]):a("span",{staticClass:"error"},[t._v("(错误)")])]):t._e(),2==e.type?a("div",{staticClass:"select"},[t._v("你的答案: "+t._s(t.select_toString(e.select))+" "),e.answer===t.select_toString(e.select)?a("span",{staticClass:"correct"},[t._v("(正确)")]):a("span",{staticClass:"error"},[t._v("(错误)")])]):t._e()]):t._e()],1)])})),0),a("el-footer",[t.finish?a("el-button",{attrs:{type:"success"},on:{click:function(e){t.resultDialog=!0}}},[t._v("查看结果")]):a("el-button",{attrs:{type:"primary"},on:{click:t.submitTest}},[t._v("提交试卷")])],1)],1),a("el-dialog",{attrs:{visible:t.resultDialog,title:"测试结果"},on:{"update:visible":function(e){t.resultDialog=e}}},[t.selectQues?a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"正确题数:"}},[t._v(t._s(t.correctCount)+"/"+t._s(t.selectQues.length))]),a("el-form-item",{attrs:{label:"错误题目:"}},t._l(t.errorList,(function(e,s){return a("div",{key:s,staticClass:"errorName"},[t._v(t._s(e.index)+"、"),a("a",{domProps:{innerHTML:t._s(e.name)},on:{click:function(a){return t.$router.push("/question/"+e.id)}}})])})),0),a("el-form-item",{attrs:{label:"得分:"}},[t._v(t._s((100*t.correctCount/t.selectQues.length).toFixed(1)))]),a("el-form-item",{attrs:{label:"用时:"}},[t._v(t._s(t.getTime))])],1):t._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.resultDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/problem")}}},[t._v("再练一次")])],1)],1)],1)},Tt=[],Ot=(a("a15b"),a("a434"),a("2909")),Qt={data:function(){return{testData:null,questionData:null,selectQues:null,finish:!1,resultDialog:!1,correctCount:0,errorList:[],time:0}},methods:{select_toString:function(t){var e=Object(Ot["a"])(t);return e.length?e.sort().join(""):"空"},submitTest:function(){var t=this;this.selectQues.forEach((function(e,a){if(1===e.type)if(e.answer===e.select)t.correctCount++;else{var s={id:e.id,index:a+1,name:"".concat(e.question_name)};t.errorList.push(s)}else if(2===e.type)if(e.answer===t.select_toString(e.select))t.correctCount++;else{var i={id:e.id,index:a+1,name:"".concat(e.question_name)};t.errorList.push(i)}})),this.finish=!0}},computed:{getTime:function(){var t=("0"+parseInt(this.time/60)).slice(-2),e=("0"+this.time%60).slice(-2);return t+":"+e}},created:function(){var t=this;if(this.testData=this.$route.params.data,!this.testData)return this.$router.push("/problem"),!1;this.axios.post("/api/question/getBySomeId",{idList:this.testData.idList}).then((function(e){t.questionData=e.data.rows;var a,s=Object(Ot["a"])(t.questionData);a=s.length<t.testData.count?s.length:t.testData.count;for(var i=[],n=0;n<a;n++){var l=Math.floor(Math.random()*s.length);i.push(s.splice(l,1)[0])}t.selectQues=i,t.selectQues.forEach((function(e){1==e.type?t.$set(e,"select",""):2==e.type&&t.$set(e,"select",[])}))})),setInterval((function(){if(t.finish)return!1;t.time=t.time+1}),1e3)}},Vt=Qt,Et=(a("e121"),Object(u["a"])(Vt,zt,Tt,!1,null,"73ce0ee6",null)),At=Et.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-aside",[a("el-menu",{attrs:{"default-active":"1"}},[a("router-link",{attrs:{to:"/houtai/users"}},[a("el-menu-item",{attrs:{index:"1"}},[t._v("用户管理")])],1),a("router-link",{attrs:{to:"/houtai/subject"}},[a("el-menu-item",{attrs:{index:"2"}},[t._v("科目管理")])],1),a("router-link",{attrs:{to:"/houtai/question"}},[a("el-menu-item",{attrs:{index:"3"}},[t._v("试题管理")])],1),a("router-link",{attrs:{to:"/houtai/shop"}},[a("el-menu-item",{attrs:{index:"4"}},[t._v("商城管理")])],1)],1)],1),a("el-main",[a("router-view")],1)],1)},Rt=[],Pt={},Wt=Pt,Nt=(a("1204"),Object(u["a"])(Wt,It,Rt,!1,null,"bf47c422",null)),Mt=Nt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"users"},[a("el-table",{attrs:{data:t.usersData}},[a("el-table-column",{attrs:{label:"id",prop:"id"}}),a("el-table-column",{attrs:{label:"用户名",prop:"loginname"}}),a("el-table-column",{attrs:{label:"管理员"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.is_admin?"是":"否"))])]}}])}),a("el-table-column",{attrs:{label:"昵称",prop:"nickname"}}),a("el-table-column",{attrs:{label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{style:{width:"40px"},attrs:{src:"/api"+t.row.avatar,alt:""}})]}}])}),a("el-table-column",{attrs:{label:"积分",prop:"point"}}),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.create_time?a("span",[t._v(t._s(t._f("formatTime")(e.row.create_time)))]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作"}})],1)],1)},Bt=[],Jt={data:function(){return{usersData:null}},methods:{getUsers:function(){var t=this;this.axios.get("/api/users/get").then((function(e){return t.usersData=e.data.rows}))},delUser:function(t){var e=this;this.axios.post("/api/users/delete",{id:t}).then((function(t){t.data.success&&(e.$message(t.data.message),e.getUsers())}))}},created:function(){this.getUsers()}},Ht=Jt,Gt=Object(u["a"])(Ht,Lt,Bt,!1,null,"7d4d838d",null),Ut=Gt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subject"},[a("el-table",{attrs:{data:t.subjectData}},[a("el-table-column",{attrs:{label:"id",prop:"id"}}),a("el-table-column",{attrs:{label:"科目",prop:"subject_name"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return t.edited(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.delSubject(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogAdd=!0}}},[t._v("添加")]),a("el-dialog",{attrs:{visible:t.dialogAdd,title:"添加",width:"30%"},on:{"update:visible":function(e){t.dialogAdd=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"科目名称","label-width":"80px"}},[a("el-input",{model:{value:t.add.name,callback:function(e){t.$set(t.add,"name",e)},expression:"add.name"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogAdd=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addSubject}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{visible:t.dialogEdit,title:"编辑",width:"30%"},on:{"update:visible":function(e){t.dialogEdit=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"科目名称","label-width":"80px"}},[a("el-input",{model:{value:t.edit.name,callback:function(e){t.$set(t.edit,"name",e)},expression:"edit.name"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogEdit=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editSubject}},[t._v("确 定")])],1)],1)],1)},Yt=[],Kt=(a("b0c0"),{data:function(){return{subjectData:null,dialogAdd:!1,add:{name:""},dialogEdit:!1,edit:{id:"",name:""}}},methods:{getSubject:function(){var t=this;this.axios.get("/api/subject/get").then((function(e){return t.subjectData=e.data.rows}))},delSubject:function(t){var e=this;this.axios.post("/api/subject/delete",{id:t}).then((function(t){t.data.success&&(e.$message(t.data.message),e.getSubject())}))},addSubject:function(){var t=this;this.axios.post("/api/subject/add",{name:this.add.name}).then((function(e){t.$message(e.data.message),e.data.success&&(t.dialogAdd=!1,t.getSubject())}))},edited:function(t){this.dialogEdit=!0,this.edit.id=t.id,this.edit.name=t.subject_name},editSubject:function(){var t=this;this.axios.post("/api/subject/edit",this.edit).then((function(e){t.$message(e.data.message),e.data.success&&(t.dialogEdit=!1,t.getSubject())}))}},created:function(){this.getSubject()}}),Xt=Kt,Zt=Object(u["a"])(Xt,Ft,Yt,!1,null,"ce02bb52",null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"question"},[a("el-table",{attrs:{data:t.questionData}},[a("el-table-column",{attrs:{label:"id",prop:"id"}}),a("el-table-column",{attrs:{label:"类型",prop:"type"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.$store.state.types[e.row.type]))])]}}])}),a("el-table-column",{attrs:{label:"题目"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"hidden",domProps:{innerHTML:t._s(e.row.question_name)}})]}}])}),a("el-table-column",{attrs:{label:"科目",prop:"subject_name"}}),a("el-table-column",{attrs:{label:"A",prop:"a"}}),a("el-table-column",{attrs:{label:"B",prop:"b"}}),a("el-table-column",{attrs:{label:"C",prop:"c"}}),a("el-table-column",{attrs:{label:"D",prop:"d"}}),a("el-table-column",{attrs:{label:"答案",prop:"answer"}}),a("el-table-column",{attrs:{label:"发布用户",prop:"nickname"}}),a("el-table-column",{attrs:{label:"发布时间",prop:"create_time"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return t.$router.push("/houtai/editQuestion/"+e.row.id)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.delQuestion(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$router.push("/houtai/addQuestion")}}},[t._v("添加")])],1)},ae=[],se={data:function(){return{questionData:null}},methods:{getQuestion:function(){var t=this;this.axios.get("/api/question/get").then((function(e){return t.questionData=e.data.rows}))},delQuestion:function(t){var e=this;this.axios.post("/api/question/delete",{id:t}).then((function(t){t.data.success&&(e.$message(t.data.message),e.getQuestion())}))}},created:function(){this.getQuestion()}},ie=se,ne=(a("f6e6"),Object(u["a"])(ie,ee,ae,!1,null,"55109bfd",null)),le=ne.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shop"},[a("el-table",{attrs:{data:t.shopData}},[a("el-table-column",{attrs:{label:"id",prop:"id"}}),a("el-table-column",{attrs:{label:"商品名称",prop:"name"}}),a("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{style:{width:"40px"},attrs:{src:"/api"+t.row.img,alt:""}})]}}])}),a("el-table-column",{attrs:{label:"价格",prop:"price"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return t.edited(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.delGoods(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogAdd=!0}}},[t._v("添加")]),a("el-dialog",{attrs:{visible:t.dialogAdd,title:"添加",width:"30%"},on:{"update:visible":function(e){t.dialogAdd=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"商品名称","label-width":"80px"}},[a("el-input",{model:{value:t.add.name,callback:function(e){t.$set(t.add,"name",e)},expression:"add.name"}})],1),a("el-form-item",{attrs:{label:"图片","label-width":"80px"}},[t.add.img?a("img",{style:{width:"40px"},attrs:{src:"/api"+t.add.img}}):t._e(),a("el-upload",{attrs:{action:"/api/shop/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[a("el-button",{attrs:{size:"medium"}},[t._v("上传图片")])],1)],1),a("el-form-item",{attrs:{label:"价格","label-width":"80px"}},[a("el-input",{model:{value:t.add.price,callback:function(e){t.$set(t.add,"price",e)},expression:"add.price"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogAdd=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{visible:t.dialogEdit,title:"编辑",width:"30%"},on:{"update:visible":function(e){t.dialogEdit=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"商品名称","label-width":"80px"}},[a("el-input",{model:{value:t.edit.name,callback:function(e){t.$set(t.edit,"name",e)},expression:"edit.name"}})],1),a("el-form-item",{attrs:{label:"图片","label-width":"80px"}},[t.edit.img?a("img",{style:{width:"40px"},attrs:{src:"/api"+t.edit.img}}):t._e(),a("el-upload",{attrs:{action:"/api/shop/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[a("el-button",{attrs:{size:"medium"}},[t._v("上传图片")])],1)],1),a("el-form-item",{attrs:{label:"价格","label-width":"80px"}},[a("el-input",{model:{value:t.edit.price,callback:function(e){t.$set(t.edit,"price",e)},expression:"edit.price"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogEdit=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editGoods}},[t._v("确 定")])],1)],1)],1)},re=[],ce={data:function(){return{shopData:null,dialogAdd:!1,add:{name:"",img:"",price:""},dialogEdit:!1,edit:{id:"",name:"",img:"",price:""}}},methods:{getGoods:function(){var t=this;this.axios.get("/api/shop/get").then((function(e){return t.shopData=e.data.rows}))},delGoods:function(t){var e=this;this.axios.post("/api/shop/delete",{id:t}).then((function(t){t.data.success&&(e.$message(t.data.message),e.getGoods())}))},addGoods:function(){var t=this;this.axios.post("/api/shop/add",this.add).then((function(e){t.$message(e.data.message),e.data.success&&(t.dialogAdd=!1,t.getGoods())}))},edited:function(t){this.dialogEdit=!0,this.edit.id=t.id,this.edit.name=t.name,this.edit.img=t.img,this.edit.price=t.price},editGoods:function(){var t=this;this.axios.post("/api/shop/edit",this.edit).then((function(e){t.$message(e.data.message),e.data.success&&(t.dialogEdit=!1,t.getGoods())}))},handleAvatarSuccess:function(t){this.$message(t.message),this.add.img="/uploads/"+t.filename}},created:function(){this.getGoods()}},ue=ce,de=Object(u["a"])(ue,oe,re,!1,null,"fa3b32da",null),me=de.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add"},[a("el-main",[a("el-form",{ref:"question",attrs:{model:t.question,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"科目",prop:"subject_id"}},[a("el-select",{attrs:{placeholder:"请选择科目"},model:{value:t.question.subject_id,callback:function(e){t.$set(t.question,"subject_id",e)},expression:"question.subject_id"}},t._l(t.subjectData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.subject_name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-radio-group",{attrs:{placeholder:"请选择科目"},model:{value:t.question.type,callback:function(e){t.$set(t.question,"type",e)},expression:"question.type"}},t._l(t.$store.state.types,(function(e,s){return a("el-radio",{key:s,attrs:{label:s}},[t._v(t._s(e))])})),1)],1),a("el-form-item",{staticClass:"quillWrapper",attrs:{label:"题目",prop:"name"}},[a("quill-editor",{staticClass:"quill",model:{value:t.question.name,callback:function(e){t.$set(t.question,"name",e)},expression:"question.name"}})],1),a("el-form-item",{attrs:{label:"选项A",prop:"ans_a"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.ans_a,callback:function(e){t.$set(t.question,"ans_a",e)},expression:"question.ans_a"}})],1),a("el-form-item",{attrs:{label:"选项B",prop:"ans_b"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.ans_b,callback:function(e){t.$set(t.question,"ans_b",e)},expression:"question.ans_b"}})],1),a("el-form-item",{attrs:{label:"选项C",prop:"ans_c"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.ans_c,callback:function(e){t.$set(t.question,"ans_c",e)},expression:"question.ans_c"}})],1),a("el-form-item",{attrs:{label:"选项D",prop:"ans_d"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.ans_d,callback:function(e){t.$set(t.question,"ans_d",e)},expression:"question.ans_d"}})],1),a("el-form-item",{attrs:{label:"答案",prop:"answer"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.answer,callback:function(e){t.$set(t.question,"answer",e)},expression:"question.answer"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.addQuestion}},[t._v("添加试题")]),a("el-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)],1)],1)},fe=[],he={data:function(){return{subjectData:null,question:{type:1,name:"",subject_id:"",ans_a:"",ans_b:"",ans_c:"",ans_d:"",answer:""}}},methods:{addQuestion:function(){var t=this,e=JSON.parse(localStorage.getItem("logininfo")).id,a=(new Date).getTime();this.axios.post("/api/question/add",Object.assign({},this.question,{id:e,create_time:a})).then((function(e){t.$message(e.data.message)}))},reset:function(){this.$refs.question.resetFields()}},created:function(){var t=this;this.axios.get("/api/subject/get").then((function(e){t.subjectData=e.data.rows}))}},ve=he,be=(a("9b13"),Object(u["a"])(ve,pe,fe,!1,null,"95a3724a",null)),_e=be.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit"},[t.question?a("el-main",[a("el-form",{ref:"question",attrs:{model:t.question,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"科目"}},[a("el-select",{attrs:{placeholder:"请选择科目"},model:{value:t.question.subject_id,callback:function(e){t.$set(t.question,"subject_id",e)},expression:"question.subject_id"}},t._l(t.subjectData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.subject_name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"类型"}},[a("el-radio-group",{attrs:{placeholder:"请选择科目"},model:{value:t.question.type,callback:function(e){t.$set(t.question,"type",e)},expression:"question.type"}},t._l(t.$store.state.types,(function(e,s){return a("el-radio",{key:s,attrs:{label:s}},[t._v(t._s(e))])})),1)],1),a("el-form-item",{staticClass:"quillWrapper",attrs:{label:"题目"}},[a("quill-editor",{staticClass:"quill",model:{value:t.question.question_name,callback:function(e){t.$set(t.question,"question_name",e)},expression:"question.question_name"}})],1),a("el-form-item",{attrs:{label:"选项A"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.a,callback:function(e){t.$set(t.question,"a",e)},expression:"question.a"}})],1),a("el-form-item",{attrs:{label:"选项B"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.b,callback:function(e){t.$set(t.question,"b",e)},expression:"question.b"}})],1),a("el-form-item",{attrs:{label:"选项C"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.c,callback:function(e){t.$set(t.question,"c",e)},expression:"question.c"}})],1),a("el-form-item",{attrs:{label:"选项D"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.d,callback:function(e){t.$set(t.question,"d",e)},expression:"question.d"}})],1),a("el-form-item",{attrs:{label:"答案"}},[a("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.question.answer,callback:function(e){t.$set(t.question,"answer",e)},expression:"question.answer"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.editQuestion}},[t._v("编辑试题")])],1)],1)],1):t._e()],1)},ye=[],ke={data:function(){return{subjectData:null,question:null}},methods:{editQuestion:function(){var t=this;this.axios.post("/api/question/update",this.question).then((function(e){e.data.success&&(t.$message(e.data.message),setTimeout((function(){t.$router.push("/houtai/question")}),2e3))}))}},created:function(){var t=this;this.axios.get("/api/subject/get").then((function(e){t.subjectData=e.data.rows}));var e=this.$route.params.id;this.axios.post("/api/question/getById",{id:e}).then((function(e){t.question=e.data.rows}))}},xe=ke,we=(a("fd03"),Object(u["a"])(xe,ge,ye,!1,null,"5bd1a4ec",null)),Ce=we.exports;s["default"].use(b["a"]);var qe=[{path:"/",name:"home",component:w},{path:"/share",name:"share",component:S},{path:"/problem",name:"problem",component:E},{path:"/myProblem",name:"myProblem",component:N},{path:"/circle",name:"circle",component:G},{path:"/shop",name:"shop",component:Z},{path:"/user/:id",name:"user",component:nt},{path:"/question/:id",name:"question",component:wt},{path:"/article/:id",name:"article",component:St},{path:"/test",name:"test",component:At},{path:"/houtai",name:"houtai",redirect:"/houtai/users",component:Mt,children:[{path:"users",name:"users",component:Ut},{path:"subject",name:"subject",component:te},{path:"question",name:"houtai_question",component:le},{path:"shop",name:"houtai_shop",component:me},{path:"addQuestion",name:"addQuestion",component:_e},{path:"editQuestion/:id",name:"editQuestion",component:Ce}]}],$e=new b["a"]({base:"/tiku-vue/",routes:qe}),je=$e,De=a("2f62"),Se=a("bc3a"),ze=a.n(Se);s["default"].use(De["a"]);var Te=new De["a"].Store({state:{subjectData:null,questionData:null,tagsData:null,types:["问答题","单选题","多选题"]},mutations:{getSubjectData:function(t,e){t.subjectData=e}},actions:{getSubjectData:function(t){var e=t.commit;ze.a.get("/api/subject/get").then((function(t){e("getSubjectData",t.data.rows)}))}},modules:{}}),Oe=a("5c96"),Qe=a.n(Oe),Ve=(a("0fae"),function(t){var e=new Date(Number(t)),a=e.getFullYear(),s=("0"+(e.getMonth()+1)).slice(-2),i=("0"+e.getDate()).slice(-2),n=("0"+e.getHours()).slice(-2),l=("0"+e.getMinutes()).slice(-2),o=("0"+e.getSeconds()).slice(-2),r=a+"-"+s+"-"+i+" "+n+":"+l+":"+o;return r}),Ee=a("953d"),Ae=a.n(Ee);a("a753"),a("8096"),a("14e1");s["default"].config.productionTip=!1,s["default"].use(Qe.a),s["default"].prototype.axios=ze.a,s["default"].filter("formatTime",Ve),s["default"].use(Ae.a),new s["default"]({router:je,store:Te,render:function(t){return t(v)}}).$mount("#app")},"5c9b":function(t,e,a){},"5f2e":function(t,e,a){},7008:function(t,e,a){"use strict";var s=a("2383"),i=a.n(s);i.a},7647:function(t,e,a){"use strict";var s=a("f2c7"),i=a.n(s);i.a},"965a":function(t,e,a){"use strict";var s=a("334b"),i=a.n(s);i.a},"9b13":function(t,e,a){"use strict";var s=a("a4a0"),i=a.n(s);i.a},"9c64":function(t,e,a){"use strict";var s=a("e0e6"),i=a.n(s);i.a},a4a0:function(t,e,a){},abd2:function(t,e,a){},b585:function(t,e,a){},c3ce:function(t,e,a){},c3fc:function(t,e,a){},c7ec:function(t,e,a){"use strict";var s=a("abd2"),i=a.n(s);i.a},d117:function(t,e,a){"use strict";var s=a("c3ce"),i=a.n(s);i.a},d656:function(t,e,a){"use strict";var s=a("e09b"),i=a.n(s);i.a},e09b:function(t,e,a){},e0e6:function(t,e,a){},e121:function(t,e,a){"use strict";var s=a("ffac"),i=a.n(s);i.a},edd4:function(t,e,a){"use strict";var s=a("0c30"),i=a.n(s);i.a},f2c7:function(t,e,a){},f6e6:function(t,e,a){"use strict";var s=a("2ebe"),i=a.n(s);i.a},fd03:function(t,e,a){"use strict";var s=a("15b6"),i=a.n(s);i.a},ffac:function(t,e,a){}});
//# sourceMappingURL=app.d69c988f.js.map